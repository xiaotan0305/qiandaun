!function(e,t){function n(e){this.target=o(e)}function o(e){function n(){N=!1,W=0,V={},X=[],U=[],a(),s(),o(),B=H.width()-H.handler.width()}function o(){V.initTime=f.now(),V.ua=f.getUA(),V.tags=f.getTags(),V.offsetTop=H.offset().top,V.size=f.getSize(H)}function a(){H.html(R)}function s(){H.handler=H.find(".drag-handler"),H.dragBg=H.find(".drag-bg"),H.text=H.find(".drag-text"),H.loading=H.find(".loading"),H.handler.on("touchstart",function(e){e.originalEvent.preventDefault(),d(e)}).on("touchmove",function(e){e.originalEvent.preventDefault(),l(e)}).on("touchend",function(e){e.originalEvent.preventDefault(),E(e)})}function d(e){if(m)alert("\u8bf7\u5728\u624b\u673a\u4e0a\u64cd\u4f5c");else{N=!0;var t=e.originalEvent.changedTouches[0];I=t.pageX-parseInt(H.handler.css("left"),10),F=e.target.tagName,x({x:t.pageX,y:t.pageY,t:f.now(),e:"touchstart"})}}function l(e){if(N){var t=e.originalEvent.changedTouches[0],n=t.pageX-I,o=f.now();x({x:t.pageX,y:t.pageY,t:o,e:"touchmove"}),n>0&&n<=B?(H.handler.css({left:n}),H.dragBg.css({width:n})):n>B&&(x({x:t.pageX,y:t.pageY,t:o,e:"touchend"}),C(),N=!1)}}function E(e){N=!1,e.originalEvent.changedTouches[0].pageX-I<B&&(X=[],H.handler.animate({left:0},300),H.dragBg.animate({width:0},300))}function x(e){N&&X.push(e)}function w(){clearTimeout(y),H.dragBg.removeClass("fail"),H.handler.removeClass("verifyicon-fail").addClass("verifyicon-ok"),H.loading.css("display","none"),H.text.text("\u9a8c\u8bc1\u901a\u8fc7").css("color","#fff"),M(),v.onSuccess()}function b(){H.dragBg.addClass("fail"),H.handler.addClass("verifyicon-fail"),H.loading.css("display","none"),H.text.text("\u9a8c\u8bc1\u5931\u8d25").css("color","#fff"),O(),v.onError()}function C(){m?alert("\u8bf7\u5728\u624b\u673a\u4e0a\u64cd\u4f5c"):(H.handler.css({left:"auto",right:0}),H.text.text(""),H.loading.show(),H.dragBg.css("width",H.width()-H.handler.width()),P(),L())}function L(){var e=i(X);f.jsonp(g,[g.apiserver],g.path.codeDrag,{start:X[0].t,end:X[X.length-1].t,i:T.compress(u()),t:c(e),gt:g.gt,challenge:g.challenge},function(e){"100"===e.code?(v.validate=e.validate,w()):e.text?(v.text=e.text,b()):S()})}function A(e){U.push(e)}function S(){try{H.imgVerify.find(".loading").hide(),H.imgVerify.find(".mask-tip").show()}catch(e){}setTimeout(function(){n()},2e3),v.onError()}function k(e){return t(Y).css({left:e.offsetX-10,top:e.offsetY-10}).appendTo(H.imgVerify)}function M(){H.find(".img-verify").css("display","none")}function O(){H.imgVerify=H.find(".slide-verify").append(h.getImgTpl()).find(".img-verify"),H.text.text("\u8bf7\u70b9\u51fb\u56fe\u7247\u4e2d\u7684\u300c"+v.text+"\u300d");var e=H.imgVerify.find("img");H.imgVerify.show(),e.attr("src",e.data("url")).on("click",function(e){k(e),A({t:f.now(),x:e.offsetX,y:e.offsetY,e:"click"}),W++,v.text="",j()})}function j(){W===g.clickLimit&&(H.imgVerify.find(".v-mask").show().find(".loading").show(),D())}function P(){H.handler.off("touchstart touchmove touchend"),H.doc.off("touchmove")}function D(){f.jsonp(g,[g.apiserver],g.path.codeImgVerfied,{x:U[0].x,y:U[0].y,challenge:g.challenge,gt:g.gt},function(e){"100"===e.code?(v.validate=e.validate,w()):S()})}g=e._extend(p);var I,B,H=t("<div></div>"),N=!1,W=0,V={},X=[],U=[],R='<div class="slide-verify"><div class="drag-bg"></div><div class="drag-text">\u62d6\u52a8\u6ed1\u5757\u9a8c\u8bc1</div><div class="loading"><div></div><div></div></div><div class="drag-handler verifyicon verifyicon-arrow center-icon"></div></div>',Y='<div class="verifyicon verifyicon-click click-icon center-icon"></div>',F="";H.doc=t(document);var _=navigator.platform,z=f.getUA();return(0===_.indexOf("Win")||0===_.indexOf("Mac")||"X11"===_||0===_.indexOf("Linux")&&-1===z.indexOf("Android"))&&(m=!0),f.loadStyleFile(g.protocol+g.static_servers+g.url.css,function(){n(),r(g)},function(){console.error("slideVerify - CSS\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25")}),H}function r(e,t){clearTimeout(y),y=setTimeout(function(){f.jsonp(e,[e.apiserver],e.path.reset,{gt:e.gt,challenge:e.challenge},function(t){"100"===t.code?(e.challenge=t.challenge,r(e)):r(e,1e3)})},t||12e5)}function i(e){var t=0,n=0,o=0,r=0,i=0,c=[];if(e.length<=0)return[];for(var s=e.length,d=s<x?0:s-x;d<s;d+=1){var l=e[d],u=l.e;"scroll"===u?c.push([u,[l.x-o,l.y-r],a(i?l.t-i:0)],o=l.x,r=l.y,i=l.t):["touchstart","touchmove","touchend"].indexOf(u)>-1?(c.push([u,[l.x-t,l.y-n],a(i?l.t-i:0)]),t=l.x,n=l.y,i=l.t):["blur","focus","unload"].indexOf(u)>-1&&(c.push([u,a(i?l.x-i:0)]),i=l.x)}return c}function a(e){return"number"!=typeof e?e:e>32767?e=32767:e<-32767?e=-32767:Math.round(e)}function c(t){function n(t){for(var n="",o=t.length/6,r=0;r<o;r+=1)n+=d.charAt(e.parseInt(t.slice(6*r,6*(r+1)),2));return n}function o(e,t){for(var n=e.toString(2),o="",r=n.length+1;r<=t;r+=1)o+="0";return n=o+n}function r(e,t){for(var n=[],o=0,r=e.length;o<r;o+=1)n.push(t(e[o]));return n}function i(e,t){var n=[];return r(e,function(e){t(e)&&n.push(e)}),n}function a(e){for(var t=(e=r(e,function(e){return e>32767?32767:e<-32767?-32767:e})).length,n=0,o=[];n<t;){for(var i=1,a=e[n],c=Math.abs(a);!(n+i>=t)&&e[n+i]===a&&!(c>=127||i>=127);)i+=1;i>1?o.push((a<0?49152:32768)|i<<7|c):o.push(a),n+=i}return o}function c(e,t){return 0===e?0:Math.log(e)/Math.log(t)}function s(e,t){var n,s=a(e),d=[],l=[];r(s,function(e){var t=Math.ceil(c(Math.abs(e)+1,16));0===t&&(t=1),d.push(o(t-1,2)),l.push(o(Math.abs(e),4*t))});var u=d.join(""),g=l.join("");return n=t?r(i(s,function(e){return 0!=e&&e>>15!=1}),function(e){return e<0?"1":"0"}).join(""):"",o(32768|s.length,16)+u+g+n}var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_-:@~*,.()[]/|",l={touchmove:0,touchstart:1,touchend:2,scroll:3,focus:4,blur:5,unload:6,unknown:7},u=function(e){for(var t=[],n=e.length,r=0;r<n;){for(var i=e[r],a=0;!(a>=16);){var c=r+a+1;if(c>=n)break;if(e[c]!==i)break;a+=1}r=r+1+a;var s=l[i];0!=a?(t.push(8|s),t.push(a-1)):t.push(s)}for(var d=o(32768|n,16),u="",g=0,f=t.length;g<f;g+=1)u+=o(t[g],4);return d+u};return function(e){for(var t=[],r=[],i=[],a=[],c=0,d=e.length;c<d;c+=1){var l=e[c],g=l.length;t.push(l[0]),r.push(2===g?l[1]:l[2]),3===g&&(i.push(Math.round(l[1][0])),a.push(Math.round(l[1][1])))}var f=u(t)+s(r,!1)+s(i,!0)+s(a,!0),h=f.length;return h%6!=0&&(f+=o(0,6-h%6)),n(f)}(t)}function s(){return["textLength","HTMLLength","documentMode"].concat(this.Bd).concat(["screenLeft","screenTop","screenAvailLeft","screenAvailTop","innerWidth","innerHeight","outerWidth","outerHeight","browserLanguage","browserLanguages","systemLanguage","devicePixelRatio","colorDepth","userAgent","cookieEnabled","netEnabled","screenWidth","screenHeight","screenAvailWidth","screenAvailHeight","localStorageEnabled","sessionStorageEnabled","indexedDBEnabled","CPUClass","platform","doNotTrack","timezone","canvas2DFP","canvas3DFP","plugins","maxTouchPoints","flashEnabled","javaEnabled","hardwareConcurrency","jsFonts","timestamp","performanceTiming"])}function d(){var t=e,n=t.screen,o=t.document,r=t.navigator,i=o.documentElement,a=(o.body.nodeType,{}),c=["A","ARTICLE","ASIDE","AUDIO","BASE","BUTTON","CANVAS","CODE","IFRAME","IMG","INPUT","LABEL","LINK","NAV","OBJECT","OL","PICTURE","PRE","SECTION","SELECT","SOURCE","SPAN","STYLE","TABLE","TEXTAREA","VIDEO"],s=document.body.nodeType,d=function(e){if(e){var t=e.nodeType,n=e.nodeName.toUpperCase();t===s&&c.indexOf(n)>-1&&(a[n]?a[n]+=1:a[n]=1);for(var o=e.childNodes,r=0,i=o.length;r<i;r++)d(o[r])}};d(o);var u=i.textContent||i.innerText;a.textLength=u.length;var g=i.innerHTML;return a.HTMLLength=g.length,a.documentMode=o.documentMode||o.compatMode,a.browserLanguage=r.language||r.userLanguage,a.browserLanguages=r.languages&&r.languages.join(","),a.systemLanguage=t.systemLanguage,a.devicePixelRatio=t.devicePixelRatio,a.colorDepth=n.colorDepth,a.userAgent=r.userAgent,a.cookieEnabled=r.cookieEnabled?1:0,a.netEnabled=r.onLine?1:0,a.innerWidth=t.innerWidth,a.innerHeight=t.innerHeight,a.outerWidth=t.outerWidth,a.outerHeight=t.outerHeight,a.screenWidth=n.width,a.screenHeight=n.height,a.screenAvailWidth=n.availWidth,a.screenAvailHeight=n.availHeight,a.screenLeft=n.left||t.screenLeft,a.screenTop=n.top||t.screenTop,a.screenAvailLeft=n.availLeft,a.screenAvailTop=n.availTop,a.localStorageEnabled=t.localStorage?1:0,a.sessionStorageEnabled=t.sessionStorage?1:0,a.indexedDBEnabled=t.indexedDB?1:0,a.CPUClass=r.cpuClass,a.platform=r.platform,a.doNotTrack=r.doNotTrack?1:0,a.timezone=(new Date).getTimezoneOffset()/60,a.plugins=function(){if(!r.plugins)return w;for(var e=[],t=0,n=r.plugins.length;t<n;t+=1){var o=r.plugins[t];e.push(o.name.replace(/\s/g,"")),e.push(o.filename.replace(/\s/g,""))}return e.join(",")}(),a.maxTouchPoints=l(r.maxTouchPoints)?l(r.msMaxTouchPoints)?0:r.msMaxTouchPoints:r.maxTouchPoints,a.flashEnabled=l(t.swfobject)?w:jzd(t.swfobject.hasFlashPlayerVersion("9.0.0")),a.javaEnabled=function(){try{return l(r.javaEnabled)?w:jzd(r.javaEnabled())}catch(e){return w}}(),a.hardwareConcurrency=r.hardwareConcurrency,a}function l(e){return void 0===e}function u(){var t=e,n=this,o=d();o.performanceTiming=function(){if(l(t.performance))return n.wd;var e,o,r=t.performance.timing,i=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart"],a=["responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint"],c=[];for(e=1,o=i.length;e<o;e+=1){var s=r[i[e]];if(0===s)c.push(n.wd);else for(var d=e-1;d>=0;d-=1){var u=r[i[d]];if(0!==u){c.push(s-u);break}}}var g=r[i[i.length-1]];for(e=0,o=a.length;e<o;e+=1){var f=r[a[e]];0===f||l(f)?c.push(n.wd):c.push(f-g)}return c.join(",")}(),o.timestamp=(new Date).getTime();var r=[];return s().map(function(e){var t=o[e];r.push(void 0==t?-1:t)}),encodeURIComponent(r.join("!!"))}var g,f={now:function(){return(new Date).getTime()},getUA:function(){return e.navigator.userAgent},getSize:function(e){return{width:e.width(),height:e.height()}},getTags:function(){for(var e=document.getElementsByTagName("*"),t=[],n=0,o=e.length;n<o;n++)t.push(e[n].tagName.toLowerCase());return t},isNum:function(e){return"number"==typeof e},getPageX:function(e){return f.isNum(e.pageX)?e.pageX:(e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]).pageX},getPageY:function(e){return f.isNum(e.pageY)?e.pageY:(e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]).pageY},getScrollLeft:function(t,n){return t?e.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft},getScrollTop:function(t,n){return t?e.pageXOffset:n?document.documentElement.scrollTop:document.body.scrollTop},loadStyleFile:function(e,t,n){var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,o.onload=function(){t&&t()},o.onerror=function(){n&&n()},document.getElementsByTagName("head")[0].appendChild(o)},jsonp:function(t,n,o,r,i){var a="fangcheck_"+(parseInt(1e4*Math.random())+(new Date).valueOf());e[a]=function(t){i(t),e[a]=void 0;try{delete e[a]}catch(e){}},r.callback=a,t.load(t.protocol,n,o,r,function(e){e&&console.log(e)})}},h={getClickBg:function(){return g.protocol+g.apiserver+"?c=index&a=createImg&width="+g.imgWidth+"&height="+g.imgHeight+"&challenge="+g.challenge+"&_="+f.now()},getImgTpl:function(){return'<div class="img-verify" style="width:'+g.imgWidth+";height:"+g.imgHeight+';"><div class="v-mask"><span class="mask-tip"><i class="verifyicon verifyicon-fail"></i><b>\u9a8c\u8bc1\u5931\u8d25</b></span><div class="loading"><div></div><div></div></div></div><img class="click-bg" style="width:'+g.imgWidth+";height:"+g.imgHeight+';" src="'+h.getClickBg()+'"></div>'}},p={clickLimit:1,url:{clickBg:"",css:"/common_m/m_recaptcha/css/fc.min.css"},path:{codeDrag:"/?c=index&a=codeDrag",codeImgVerfied:"/?c=index&a=codeImgVerfied",reset:"/?c=index&a=reset"},imgWidth:0,imgHeight:200},v={},m=!1;n.prototype={appendTo:function(e){this.target.appendTo(e.html("")),g.imgWidth||(g.imgWidth=e.width()),g.imgHeight||(g.imgHeight=200)},onSuccess:function(e){v.onSuccess=e},onError:function(e){v.onError=e},getValidate:function(){return{fc_gt:g.gt,fc_challenge:g.challenge,fc_validate:v.validate}}};var y=0;e.Fangcheck=n;var E=String.fromCharCode,T={compress:function(e){return T.baseCompress(e,16,function(e){return T.toChart16(E(e))})},baseCompress:function(e,t,n){if(null===e)return"";var o,r,i,a={},c={},s="",d="",l="",u=2,g=3,f=2,h=[],p=0,v=0;for(i=0;i<e.length;i+=1)if(s=e.charAt(i),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=g++,c[s]=!0),d=l+s,Object.prototype.hasOwnProperty.call(a,d))l=d;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)p<<=1,v==t-1?(v=0,h.push(n(p)),p=0):v++;for(r=l.charCodeAt(0),o=0;o<8;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)p=p<<1|r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete c[l]}else for(r=a[l],o=0;o<f;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++),a[d]=g++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)p<<=1,v==t-1?(v=0,h.push(n(p)),p=0):v++;for(r=l.charCodeAt(0),o=0;o<8;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)p=p<<1|r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete c[l]}else for(r=a[l],o=0;o<f;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)p=p<<1|1&r,v==t-1?(v=0,h.push(n(p)),p=0):v++,r>>=1;for(;;){if(p<<=1,v==t-1){h.push(n(p));break}v++}return h.join("")},toChart16:function(e){for(var t="",n=e.length,o=0;o<n;o++){var r=e.charCodeAt(o).toString(16),i=r.length;if(i<4){for(var a=4-i,c="",s=0;s<a;s++)c+="0";r=c+r}else i>4&&console.log("More than four",r);t+=r}return t}},x=300,w=-1}(this,jQuery);