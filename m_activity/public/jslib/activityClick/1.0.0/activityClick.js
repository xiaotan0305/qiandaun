/** * 活动统计插件 * by 谭坤鹏 2016-08-01 */(function (w, f) {    'use strict';    if (typeof define === 'function') {        define('activityClick/1.0.0/activityClick', ['jquery'], function (require) {            var $ = require('jquery');            return f($);        });    } else if (typeof exports === 'object') {        module.exports = f(w);    } else {        $(function () {            f();        });    }})(window, function () {    'use strict';    if (!window.$) {        console.error('请先引入jquery');        return false;    }    var $doc = $(document.body);    function Click() {        var that = this;        that.backstage = 'huodongAC.d';        that.init();    }    Click.prototype = {        constructor: Click,        /**         * 初始化         */        init: function () {            var that = this;            $doc.on('click','a[id][data-name][data-type]', function (ev) {                var $this = $(this);                var id = $this.attr('id');                var dataID = $this.attr('data-id') ? $this.attr('data-id') : '';                var name = $this.attr('data-name') ? $this.attr('data-name') : '';                var rolediv = $this.attr('data-role') ? $this.attr('data-role') : '';                var type = $this.attr('data-type');                var href = $this.attr('href');                if (id && type) {                    ev.preventDefault();                    ev.stopPropagation();                    var url = location.origin + '/' + that.backstage + '?class=ButtonClickHc&m=markDown&id=' + id + '&type=' + type + '&dataID='                        + dataID + '&name=' + encodeURIComponent(encodeURIComponent(name)) + '&rolediv=' + rolediv;                    $.get(url);                    if (href) {                        location.href = href;                    }                }            });        },        /**         * 微信分享统计         * @param className 类名         * @param mName 方法名         * @param lotteryId 活动id         * @param city 城市         * @param roleddiv 权限         */        shareTJ: function (className, mName, lotteryId, city, rolediv) {            var that = this;            var url = location.origin + '/' + that.backstage + '?class=WeixinClickHc&m=markDown&className='                + className + '&mName=' + mName + '&lotteryId=' + lotteryId + '&city=' + city + '&rolediv=' + rolediv;            $.get(url);        }    };    window.TJ = new Click();    return window.TJ;});